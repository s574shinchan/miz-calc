<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <title>WOS íŒ¨í‚¤ì§€ ê¸ˆì•¡ ê³„ì‚°</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ìˆ«ì ì…ë ¥ì¹¸ ìŠ¤í•€ ì œê±° */
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type=number] {
      -moz-appearance: textfield;
    }
  </style>
</head>
<body class="bg-gray-50 p-6 font-sans text-gray-700">
  <div class="max-w-2xl mx-auto bg-gray-100 p-6 rounded-2xl shadow-md">
    <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">ğŸ’³ ë¯¸ì¦ˆ ê³„ì‚°ê¸°</h2>

    <!-- ìƒë‹¨ ì¡°ì‘ ë²„íŠ¼ -->
    <div class="flex gap-2 mb-4">
      <button type="button" onclick="selectAll()" class="px-4 py-2 bg-green-400 hover:bg-green-500 text-white font-semibold rounded-md text-sm transition">ì „ì²´ ì„ íƒ</button>
      <button type="button" onclick="resetForm()" class="px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white font-semibold rounded-md text-sm transition">ë¦¬ì…‹</button>
    </div>

    <!-- ì²´í¬ë°•ìŠ¤+ìˆ˜ëŸ‰ ì…ë ¥ í”„ë ˆì„ -->
    <div class="bg-white border border-gray-300 rounded-xl p-4 mb-6">
      <form id="priceForm" class="space-y-4">
        <div id="checkboxContainer" class="space-y-4"></div>
      </form>
    </div>

    <!-- í•˜ë‹¨ ê³„ì‚°í•˜ê¸° ë²„íŠ¼ -->
    <button type="button" onclick="calculateTotal()" class="w-full bg-blue-400 hover:bg-blue-500 text-white font-semibold py-3 rounded-xl text-lg transition">ê³„ì‚°í•˜ê¸°</button>

    <!-- ì´í•© í‘œì‹œ -->
    <div class="mt-6 text-center text-2xl font-bold">
      ì´í•©: <span id="totalAmount">0</span> ì›
    </div>
  </div>

  <script>
    const labels = [1500, 3000, 4400, 7500, 15000, 30000, 79000, 149000];
    const prices = [1250, 2500, 3750, 6250, 12500, 25000, 62500, 125000];
    const container = document.getElementById('checkboxContainer');

    prices.forEach((price, index) => {
      const div = document.createElement('div');
      div.className = 'flex items-center gap-2 w-full';

      // ì²´í¬ë°•ìŠ¤
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.id = `chk${index}`;
      checkbox.className = 'w-5 h-5 flex-shrink-0';

      // ë¼ë²¨
      const labelWrapper = document.createElement('div');
      labelWrapper.className = 'w-28 text-right text-lg font-semibold flex-shrink-0';
      labelWrapper.innerText = labels[index].toLocaleString();

      // ì˜¤ë¥¸ìª½ ë²„íŠ¼/ìˆ˜ëŸ‰ ì…ë ¥ ê·¸ë£¹
      const inputGroup = document.createElement('div');
      inputGroup.className = 'flex items-center gap-2 flex-1';

      const plusBtn = document.createElement('button');
      plusBtn.type = 'button';
      plusBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
      `;
      plusBtn.className = 'w-8 h-8 bg-gray-300 hover:bg-gray-400 rounded flex justify-center items-center';
      plusBtn.onclick = () => adjustQuantity(index, 1);

      const quantity = document.createElement('input');
      quantity.type = 'number';
      quantity.min = 1;
      quantity.value = 1;
      quantity.className = 'flex-1 min-w-0 max-w-[80px] text-center border rounded-lg p-2 text-base';
      quantity.id = `qty${index}`;

      const minusBtn = document.createElement('button');
      minusBtn.type = 'button';
      minusBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
        </svg>
      `;
      minusBtn.className = 'w-8 h-8 bg-gray-300 hover:bg-gray-400 rounded flex justify-center items-center';
      minusBtn.onclick = () => adjustQuantity(index, -1);

      const orbImg = document.createElement('img');
      orbImg.src = './images/iceorb.png'; // ì—¬ê¸°ì— ê¹ƒí—ˆë¸Œì— ì—…ë¡œë“œí•œ ê²½ë¡œ
      orbImg.alt = 'Ice Orb';
      orbImg.className = 'w-10 h-10 ml-2 flex-shrink-0';

      inputGroup.appendChild(plusBtn);
      inputGroup.appendChild(quantity);
      inputGroup.appendChild(minusBtn);
      inputGroup.appendChild(orbImg);

      div.appendChild(checkbox);
      div.appendChild(labelWrapper);
      div.appendChild(inputGroup);
      container.appendChild(div);
    });

    function adjustQuantity(index, delta) {
      const quantity = document.getElementById(`qty${index}`);
      let current = parseInt(quantity.value || 1);
      current += delta;
      if (current < 1) current = 1;
      quantity.value = current;
    }

    function calculateTotal() {
      let total = 0;
      let checkedAny = false;
      prices.forEach((price, index) => {
        const checkbox = document.getElementById(`chk${index}`);
        const quantity = document.getElementById(`qty${index}`);
        if (checkbox && checkbox.checked) {
          checkedAny = true;
          total += price * parseInt(quantity.value || 1);
        }
      });
      if (!checkedAny) {
        alert('ì²´í¬ëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.');
        return;
      }
      document.getElementById('totalAmount').innerText = total.toLocaleString();
    }

    function resetForm() {
      prices.forEach((_, index) => {
        const checkbox = document.getElementById(`chk${index}`);
        const quantity = document.getElementById(`qty${index}`);
        if (checkbox) checkbox.checked = false;
        if (quantity) quantity.value = 1;
      });
      document.getElementById('totalAmount').innerText = '0';
    }

    function selectAll() {
      prices.forEach((_, index) => {
        const checkbox = document.getElementById(`chk${index}`);
        if (checkbox) checkbox.checked = true;
      });
    }
  </script>
</body>
</html>
